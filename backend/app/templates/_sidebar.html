<div x-data="{ sidebarOpen: true }" class="relative flex min-h-screen bg-gray-900 text-indigo-200">
  <!-- Sidebar -->
  <aside
    class="fixed inset-y-0 left-0 z-30 w-72 bg-gradient-to-r from-gray-900 via-black to-gray-800 text-indigo-200 shadow-none transform transition-transform duration-300 ease-in-out"
    :class="{ '-translate-x-full': !sidebarOpen }"
    aria-label="Sidebar navigation"
    role="navigation"
  >
    <div class="p-4 border-b border-gray-700 flex items-center justify-between">
      <h2 class="text-2xl font-bold text-indigo-400 select-none">Agent App</h2>
      <!-- Toggle button visible on small screens -->
      <button
        @click="sidebarOpen = !sidebarOpen"
        class="md:hidden text-indigo-300 hover:text-indigo-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 rounded"
        aria-label="Toggle sidebar"
        :aria-expanded="sidebarOpen.toString()"
      >
        <svg
          x-show="sidebarOpen"
          xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          stroke-width="2"
        >
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
        </svg>
        <svg
          x-show="!sidebarOpen"
          xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          stroke-width="2"
        >
          <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>

    <nav class="flex-1 px-2 py-4 space-y-2 overflow-y-auto" role="menu" aria-orientation="vertical">
      <!-- Sidebar links with uniform icon sizes (h-4 w-4) -->
      <a
        href="#"
        class="flex items-center px-4 py-2 text-indigo-300 hover:bg-indigo-700 hover:text-white rounded-md transition duration-200"
        role="menuitem"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-4 w-4 mr-3 flex-shrink-0"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          stroke-width="2"
          aria-hidden="true"
        >
          <path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
        </svg>
        Scheduling
      </a>
      <!-- Add other links similarly here -->
    </nav>

    <div class="mt-auto px-2 py-4 space-y-2 border-t border-gray-700">
      <!-- Footer links -->
    </div>
  </aside>

  <!-- Overlay backdrop for small screens -->
  <div
    x-show="sidebarOpen"
    @click="sidebarOpen = false"
    class="fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden"
    x-transition:enter="transition ease-out duration-300"
    x-transition:enter-start="opacity-0"
    x-transition:enter-end="opacity-50"
    x-transition:leave="transition ease-in duration-300"
    x-transition:leave-start="opacity-50"
    x-transition:leave-end="opacity-0"
    aria-hidden="true"
  ></div>

  <!-- Main Content -->
  <div class="flex-1 ml-0 md:ml-72 transition-margin duration-300 ease-in-out">
    {% block content %}{% endblock %}
  </div>
</div>